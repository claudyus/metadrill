
Metadrill - Tiny tool for using a G-code controlled CNC for drilling PCBs
using *.drl files as generated by Mentor Graphics PADS.

Its main feature is that it can be calibrated easily for any board position,
scaling or rotation. Even a mirrored layout is detected automatically.


Usage:
======

1. Configuration:

	Change the #defines in the metadrill.c file as needed and recompile
	(see comment right at the top of metadrill.c)

2. Calibration:

	* Load the *.drl file with metadrill in calibration mode:

		$ ./metadrill example.drl

	* Run the CNC homeing routine by pressing 'h'.

	* Mount the PCB in the drilling area.

	* Click a drill (white) or position marker (cyan) in the gui and
	  use the manual move commands (see below for a command reference)
	  to move the CNC head to the selected drill position.

	  Press 'p' to store the assoziation of position and drill.

	  Repeat with at leas two more drills or position markers.

	* Press 'a' to run calculate the transformaton matrices.

	* Use the atomatic move commands (select a drill and press 'm')
	  to test the transformaton matrices.

	* Press 'w' to store the transformation matrices.

	* Press 'q' to quit metadrill.

3. Drilling:

	* Load the *.drl file with metadrill in drilling mode:

		$ ./metadrill -x example.drl

	* Turn on the driller (metadrill is not doing it for you!)

	* Press 's' to start drilling.

	* Wait for the drilling program to finish.

	* Turn off the driller (metadrill is not doing it for you!)

	* Press 'h' to home the CNC head.

	* Press 'q' to quit metadrill.

	* Unmount the PCB.


Command Reference:
==================

	q	Quit

	Click	Select a drill or position marker in GUI.

	p	Assoziate the current CNC head position with the
		currently selected drill or position marker.

	a	Recalculate the transformation matrices using the
		points entered using the 'p' command.

	w	Write out the current transformation matrices. The
		written matrices will be loaded automatically when
		starting the program the next time.

	1	Set step-size for manual moving to 100.00 mm
	2	Set step-size for manual moving to  30.00 mm
	3	Set step-size for manual moving to  10.00 mm
	4	Set step-size for manual moving to   3.00 mm
	5	Set step-size for manual moving to   1.00 mm
	6	Set step-size for manual moving to   0.30 mm
	7	Set step-size for manual moving to   0.10 mm
	8	Set step-size for manual moving to   0.03 mm
	9	Set step-size for manual moving to   0.01 mm
	0	Disable manual moving (step-size = 0)

	UP	Manually move CNC head (increment Y by step-size)
	DOWN	Manually move CNC head (decrement Y by step-size)
	LEFT	Manually move CNC head (increment X by step-size)
	RIGHT	Manually move CNC head (decrement X by step-size)

	h	Move CNC head to home-position
	z	Set current CNC position the home-position
	m	Move CNC head to selected position

	e 	Enable drilling (like args -x)

	u	Move CNC head to up-position
	d	Move CNC head to down-position (very close to PCB)
	x	Drill (move CNC head slowly into PCB and up again)

	c	Enable/Clear console output in gui window (like -c on command line)

	s	Start/continue drilling program (press any key to interrupt)


Command Line Usage:
===================

	metadrill.txt [ -x ] [ -c ] [ -g ] drillfile [ COMx ]

	-x	Enable drilling
	-c	Enable console output in gui
	-g	Just generate gcode file (UNIX/Linux only)

	COMx	Serial interface (or -g output file)

